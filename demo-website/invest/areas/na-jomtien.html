<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Na Jomtien Area Guide | Investment & Properties | Asset Management Property</title>
  <meta name="description" content="Explore Na Jomtien - The most peaceful area in Pattaya with natural atmosphere. Average price ‡∏ø65,000/sqm. View properties and investment opportunities.">
  <meta name="robots" content="noindex, nofollow">

  <!-- Open Graph -->
  <meta property="og:title" content="Na Jomtien Area Guide | Asset Management Property">
  <meta property="og:description" content="The most peaceful area in Pattaya with natural atmosphere. Perfect for those seeking privacy and relaxation.">
  <meta property="og:image" content="https://images.unsplash.com/photo-1500375592092-40eb2168fd21?w=1200&h=630&fit=crop">
  <meta property="og:url" content="https://amppattaya.com/invest/areas/na-jomtien.html">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Asset Management Property">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Na Jomtien Area Guide | Asset Management Property">
  <meta name="twitter:description" content="The most peaceful area in Pattaya with natural atmosphere. Perfect for those seeking privacy and relaxation.">
  <meta name="twitter:image" content="https://images.unsplash.com/photo-1500375592092-40eb2168fd21?w=1200&h=630&fit=crop">

  <!-- Canonical URL -->
  <link rel="canonical" href="https://amppattaya.com/invest/areas/na-jomtien.html">
  <link rel="icon" href="../../assets/images/favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="../../assets/css/main.css">
  <link rel="stylesheet" href="../../assets/css/components.css">
  <link rel="stylesheet" href="../../assets/css/projects.css">
  <link rel="stylesheet" href="../../assets/css/marketing.css">
  <link rel="stylesheet" href="../../assets/css/responsive.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="anonymous">
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>

<body>
  <!-- Skip Link for Accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <header class="header">
    <div class="header-content">
      <a href="../../index.html" class="logo"><img src="../../assets/images/logo-amp.svg" alt="AMP" height="40"></a>
      <nav class="nav desktop-only">
        <a href="../../index.html" data-i18n="nav_home"><i data-lucide="home"></i> Home</a>
        <a href="../../listing.html?intent=rent" data-i18n="nav_rent"><i data-lucide="key"></i> Rent</a>
        <a href="../../listing.html?intent=sale" data-i18n="nav_buy"><i data-lucide="building"></i> Buy</a>
        <a href="../../projects/index.html" data-i18n="nav_projects"><i data-lucide="layers"></i> Projects</a>
        <a href="../index.html" class="active" data-i18n="nav_invest"><i data-lucide="trending-up"></i> Invest</a>
        <a href="../../contact.html" data-i18n="nav_contact"><i data-lucide="mail"></i> Contact</a>
      </nav>
      <div class="header-actions">
        <button class="lang-switch" onclick="toggleLanguage()"><span id="lang-text">EN</span></button>
        <button class="hamburger mobile-only" onclick="toggleMobileMenu()" aria-label="Menu" aria-expanded="false">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobile-menu">
    <a href="../../index.html" data-i18n="nav_home"><i data-lucide="home"></i> Home</a>
    <a href="../../listing.html?intent=rent" data-i18n="nav_rent"><i data-lucide="key"></i> Rent</a>
    <a href="../../listing.html?intent=sale" data-i18n="nav_buy"><i data-lucide="building"></i> Buy</a>
    <a href="../../projects/index.html" data-i18n="nav_projects"><i data-lucide="layers"></i> Projects</a>
    <a href="../index.html" data-i18n="nav_invest"><i data-lucide="trending-up"></i> Invest</a>
    <a href="../../contact.html" data-i18n="nav_contact"><i data-lucide="mail"></i> Contact</a>
  </div>

  <!-- Breadcrumb -->
  <div class="container" style="padding-top: 24px;">
    <nav aria-label="breadcrumb" style="font-size: 0.9rem; color: var(--color-gray-600);">
      <a href="../../index.html" style="color: var(--color-primary); text-decoration: none;">Home</a> / 
      <a href="../index.html" style="color: var(--color-primary); text-decoration: none;" data-i18n="nav_invest">Invest</a> / 
      <a href="./index.html" style="color: var(--color-primary); text-decoration: none;"><span data-i18n="areas_breadcrumb">Areas</span></a> / 
      <span id="area-name-breadcrumb">Central Pattaya</span>
    </nav>
  </div>

  <!-- Hero Section with Area Image -->
  <section class="hero" id="main-content" style="padding: 40px 0; position: relative; overflow: hidden;">
    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 0;">
      <img id="area-hero-image" src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1200" 
           alt="Central Pattaya" 
           style="width: 100%; height: 100%; object-fit: cover; opacity: 0.3;">
    </div>
    <div class="container" style="position: relative; z-index: 1;">
      <h1 id="area-title" style="font-size: 2.5rem; margin-bottom: 1rem; color: var(--color-gray-900);">Central Pattaya</h1>
      <p id="area-description" style="font-size: 1.2rem; line-height: 1.6; max-width: 800px; color: var(--color-gray-700);">
        Heart of Pattaya city filled with entertainment, restaurants, and shopping malls. Perfect for those who enjoy urban lifestyle.
      </p>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="section" style="background: var(--color-gray-50); padding: 40px 0;">
    <div class="container">
      <div class="grid grid-3" style="gap: 24px;">
        <div class="card" style="text-align: center; padding: 32px 24px;">
          <div style="font-size: 0.9rem; color: var(--color-gray-600); margin-bottom: 8px;" data-i18n="area_avg_price">Average Price/sqm</div>
          <div id="area-price" style="font-size: 2rem; font-weight: 700; color: var(--color-primary);">‡∏ø85,000</div>
          <div style="font-size: 0.85rem; color: var(--color-gray-500); margin-top: 4px;" data-i18n="area_detail_competitive">Competitive pricing</div>
        </div>
        <div class="card" style="text-align: center; padding: 32px 24px;">
          <div style="font-size: 0.9rem; color: var(--color-gray-600); margin-bottom: 8px;" data-i18n="area_price_trend">Price Trend (YoY)</div>
          <div id="area-trend" style="font-size: 2rem; font-weight: 700; color: #10b981;">‚Üó +8.5%</div>
          <div style="font-size: 0.85rem; color: var(--color-gray-500); margin-top: 4px;" data-i18n="area_detail_growing">Growing market</div>
        </div>
        <div class="card" style="text-align: center; padding: 32px 24px;">
          <div style="font-size: 0.9rem; color: var(--color-gray-600); margin-bottom: 8px;" data-i18n="area_residents">Residents</div>
          <div id="area-residents" style="font-size: 1.3rem; font-weight: 600; color: var(--color-gray-900); line-height: 1.4; margin-top: 12px;">Tourists, Investors, Expats</div>
        </div>
      </div>
    </div>
  </section>
  <section class="section" style="padding-top: 0;">
    <div class="container">
      <div class="card" style="padding: 32px;">
        <div style="text-align: center; margin-bottom: 24px;">
          <h2 style="font-size: 1.8rem; margin-bottom: 8px;" data-i18n="area_charts_title">Area Price Comparison</h2>
          <p style="color: var(--color-gray-600);" data-i18n="area_charts_subtitle">Compare average prices and year-on-year growth across key Pattaya areas.</p>
        </div>
        <div class="grid grid-2" style="gap: 24px;">
          <div class="card" style="padding: 24px;">
            <h3 style="margin-bottom: 16px; font-size: 1.1rem;" data-i18n="area_chart_price_title">Average Price per sqm</h3>
            <div style="height: 280px;">
              <canvas id="area-detail-price-chart" data-i18n-aria="area_chart_price_aria" aria-label="Area average price per square meter chart" role="img"></canvas>
            </div>
            <div style="display: flex; justify-content: space-between; margin-top: 12px; font-size: 0.85rem; color: var(--color-gray-600);">
              <span id="area-detail-price-high"></span>
              <span id="area-detail-price-low"></span>
            </div>
          </div>
          <div class="card" style="padding: 24px;">
            <h3 style="margin-bottom: 16px; font-size: 1.1rem;" data-i18n="area_chart_trend_title">YoY Price Growth</h3>
            <div style="height: 280px;">
              <canvas id="area-detail-trend-chart" data-i18n-aria="area_chart_trend_aria" aria-label="Area year-on-year price trend chart" role="img"></canvas>
            </div>
            <div style="display: flex; justify-content: space-between; margin-top: 12px; font-size: 0.85rem; color: var(--color-gray-600);">
              <span id="area-detail-trend-high"></span>
              <span id="area-detail-trend-low"></span>
            </div>
          </div>
        </div>
        <div style="display: flex; flex-wrap: wrap; gap: 16px; justify-content: center; margin-top: 20px; font-size: 0.85rem; color: var(--color-gray-500);">
          <span data-i18n="area_chart_legend_price">Avg Price/sqm (‡∏ø)</span>
          <span data-i18n="area_chart_legend_trend">YoY Trend (%)</span>
          <span data-i18n="area_chart_source">Source: AMP area guide data (mock)</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Highlights & Nearby Section -->
  <section class="section">
    <div class="container">
      <div class="grid grid-2" style="gap: 32px; align-items: start;">
        <!-- Highlights -->
        <div class="card" style="padding: 32px;">
          <h2 style="font-size: 1.8rem; margin-bottom: 24px; display: flex; align-items: center; gap: 12px;">
            <i data-lucide="star" style="width: 28px; height: 28px; color: var(--color-primary);"></i>
            <span data-i18n="area_highlights">Highlights</span>
          </h2>
          <ul id="area-highlights-list" style="list-style: none; padding: 0; margin: 0;">
            <!-- Will be populated by JavaScript -->
          </ul>
        </div>

        <!-- Nearby Places -->
        <div class="card" style="padding: 32px;">
          <h2 style="font-size: 1.8rem; margin-bottom: 24px; display: flex; align-items: center; gap: 12px;">
            <i data-lucide="map-pin" style="width: 28px; height: 28px; color: var(--color-primary);"></i>
            <span data-i18n="area_nearby">Nearby</span>
          </h2>
          <div id="area-nearby-list" style="display: flex; flex-direction: column; gap: 16px;">
            <!-- Will be populated by JavaScript -->
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="section" style="padding-top: 0;">
    <div class="container">
      <div class="area-map-section">
        <h2 id="area-map-heading" style="font-size: 1.8rem; margin-bottom: 16px;">Area Map & Landmarks</h2>
        <p id="area-map-description" class="sr-only">Interactive map showing Na Jomtien landmarks and nearby points of interest.</p>
        <div class="area-map-container" id="area-detail-map" role="region" aria-labelledby="area-map-heading" aria-describedby="area-map-description"></div>
      </div>
    </div>
  </section>

  <!-- Properties in This Area -->
  <section class="section" style="background: var(--color-gray-50);">
    <div class="container">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; flex-wrap: wrap; gap: 16px;">
        <div>
          <h2 style="font-size: 2rem; margin-bottom: 8px;">
            <span data-i18n="area_properties_title">Properties in</span> <span id="area-name-properties">Central Pattaya</span>
          </h2>
          <p style="color: var(--color-gray-600);" data-i18n="area_properties_subtitle">Explore available properties in this area</p>
        </div>
        <a href="../../listing.html?area=Na+Jomtien" id="view-all-link" class="btn btn-primary" style="white-space: nowrap;">
          <span data-i18n="area_view_all_properties">View All Properties</span> ‚Üí
        </a>
      </div>

      <div class="grid grid-3" id="properties-grid" style="gap: 24px;">
        <!-- Will be populated by JavaScript -->
      </div>

      <div style="text-align: center; margin-top: 32px;">
        <a href="../../listing.html?area=Na+Jomtien" id="view-all-link-bottom" class="btn btn-outline" style="min-width: 200px;">
          <span data-i18n="area_view_all_properties">View All Properties</span> ‚Üí
        </a>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
    <div class="container" style="text-align: center;">
      <h2 style="font-size: 2rem; margin-bottom: 16px; color: white;" data-i18n="area_cta_title">Interested in This Area?</h2>
      <p style="font-size: 1.1rem; margin-bottom: 32px; color: rgba(255,255,255,0.95); max-width: 600px; margin-left: auto; margin-right: auto;" data-i18n="area_cta_subtitle">
        Let our experts help you find the perfect property
      </p>
      <div style="display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;">
        <a href="../../contact.html" class="btn" style="background: white; color: var(--color-primary); border: none; padding: 12px 32px;">
          <i data-lucide="phone" style="width: 18px; height: 18px;"></i>
          <span data-i18n="area_cta_contact">Contact Us</span>
        </a>
        <a href="../../listing.html?area=Na+Jomtien" id="search-projects-link" class="btn" style="background: rgba(255,255,255,0.2); color: white; border: 2px solid white; padding: 12px 32px;">
          <i data-lucide="search" style="width: 18px; height: 18px;"></i>
          <span data-i18n="area_cta_search">Search Properties</span>
        </a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3><span data-i18n="footer_companyName">Asset Management Property</span></h3>
          <p data-i18n="footer_tagline">Professional property management in Pattaya</p>
          <div style="margin-top: 16px;">
            <p><strong data-i18n="footer_officeHours">Office Hours:</strong></p>
            <p data-i18n="footer_hours">Monday - Sunday: 9:00 AM - 6:00 PM</p>
          </div>
        </div>

        <div class="footer-section">
          <h3 data-i18n="footer_contactUs">Contact Us</h3>
          <p>üìû 063-453-3526</p>
          <p>üìß info@amppattaya.com</p>
          <p>üìç 123/45 Pattaya Beach Road<br>Pattaya, Chonburi 20150</p>
        </div>

        <div class="footer-section">
          <h3 data-i18n="footer_quickLinks">Quick Links</h3>
          <ul style="list-style: none; padding: 0;">
            <li><a href="../../listing.html?intent=rent" data-i18n="footer_forRent">For Rent</a></li>
            <li><a href="../../listing.html?intent=sale" data-i18n="footer_forSale">For Sale</a></li>
            <li><a href="../../projects/index.html" data-i18n="nav_projects">Projects</a></li>
            <li><a href="../index.html" data-i18n="nav_invest">Investment</a></li>
            <li><a href="../../contact.html" data-i18n="nav_contact">Contact</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h3 data-i18n="footer_follow">Follow Us</h3>
          <div class="social-links" style="display: flex; gap: 12px; margin-top: 12px;">
            <span aria-disabled="true" tabindex="-1" aria-label="Facebook" style="font-size: 24px; opacity: 0.5; cursor: not-allowed;">üìò</span>
            <span aria-disabled="true" tabindex="-1" aria-label="Instagram" style="font-size: 24px; opacity: 0.5; cursor: not-allowed;">üì∑</span>
            <span aria-disabled="true" tabindex="-1" aria-label="Line" style="font-size: 24px; opacity: 0.5; cursor: not-allowed;">üí¨</span>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p data-i18n="footer_copyright">¬© 2026 Asset Management Property. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="../../assets/js/mock-data.js"></script>
  <script src="../../assets/js/i18n.js"></script>
  <script src="../../assets/js/main.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="anonymous"></script>

  <script>
    // Area key for this page
    const AREA_KEY = 'na-jomtien';
    const pageLang = () => document.documentElement.lang || 'en';
    
    // Initialize page with area data
    function initAreaDetailPage() {
      const lang = pageLang();
      const areaData = AREA_GUIDES[AREA_KEY];
      const chartKeys = window.AMP?.areaGuideChartKeys || ['pratumnak', 'wong-amat', 'pattaya', 'jomtien', 'na-jomtien', 'bang-saray'];
      
      if (!areaData) {
        console.error('Area data not found for:', AREA_KEY);
        return;
      }

      // Update page title and meta tags
      const areaName = areaData.name[lang];
      const areaDesc = areaData.description[lang];
      
      // Update document title
      document.title = `${areaName} Area Guide | Investment & Properties | Asset Management Property`;
      
      // Update meta tags
      const metaDescription = document.querySelector('meta[name="description"]');
      const ogTitle = document.querySelector('meta[property="og:title"]');
      const ogDescription = document.querySelector('meta[property="og:description"]');
      const twitterTitle = document.querySelector('meta[name="twitter:title"]');
      const twitterDescription = document.querySelector('meta[name="twitter:description"]');
      
      if (metaDescription) metaDescription.setAttribute('content', `Explore ${areaName} - ${areaDesc}. Average price ‡∏ø${areaData.avg_price_sqm.toLocaleString()}/sqm. View properties and investment opportunities.`);
      if (ogTitle) ogTitle.setAttribute('content', `${areaName} Area Guide | Asset Management Property`);
      if (ogDescription) ogDescription.setAttribute('content', areaDesc);
      if (twitterTitle) twitterTitle.setAttribute('content', `${areaName} Area Guide | Asset Management Property`);
      if (twitterDescription) twitterDescription.setAttribute('content', areaDesc);
      
      // Update in-page elements
      document.getElementById('area-title').textContent = areaName;
      document.getElementById('area-description').textContent = areaDesc;
      document.getElementById('area-name-breadcrumb').textContent = areaName;
      document.getElementById('area-name-properties').textContent = areaName;
      
      // Update hero image
      if (areaData.image) {
        document.getElementById('area-hero-image').src = areaData.image;
        document.getElementById('area-hero-image').alt = areaName;
      }
      
      if (areaData.coordinates && typeof L !== 'undefined') {
        const mapContainer = document.getElementById('area-detail-map');
        if (mapContainer) {
          try {
            const map = L.map(mapContainer, { scrollWheelZoom: false }).setView([areaData.coordinates.lat, areaData.coordinates.lng], 13);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
              attribution: '&copy; OpenStreetMap contributors'
            }).addTo(map);
            const areaMarker = L.marker([areaData.coordinates.lat, areaData.coordinates.lng]).addTo(map);
            areaMarker.bindPopup(areaName);
            (areaData.landmarks || []).forEach(landmark => {
              L.marker([landmark.lat, landmark.lng]).addTo(map)
                .bindPopup(landmark.name?.[lang] || landmark.name?.en || 'Landmark');
            });
          } catch (error) {
            console.error('Failed to initialize Leaflet map for area:', areaName, error);
          }
        }
      }

      // Update stats
      document.getElementById('area-price').textContent = `‡∏ø${areaData.avg_price_sqm.toLocaleString()}`;
      
      const trend = areaData.price_trend_yoy;
      const trendEl = document.getElementById('area-trend');
      trendEl.textContent = `${trend >= 0 ? '‚Üó' : '‚Üò'} ${trend >= 0 ? '+' : ''}${trend}%`;
      trendEl.style.color = trend >= 0 ? '#10b981' : '#ef4444';
      
      document.getElementById('area-residents').textContent = areaData.residents[lang];

      // Populate highlights
      const highlightsList = document.getElementById('area-highlights-list');
      highlightsList.innerHTML = areaData.highlights[lang].map(highlight => `
        <li style="padding: 12px 0; border-bottom: 1px solid var(--color-gray-200); display: flex; align-items: start; gap: 12px;">
          <span style="color: var(--color-primary); font-size: 1.2rem; flex-shrink: 0;">‚úì</span>
          <span style="color: var(--color-gray-700); line-height: 1.5;">${highlight}</span>
        </li>
      `).join('');

      // Populate nearby places
      const nearbyList = document.getElementById('area-nearby-list');
      const nearby = areaData.nearby[lang];
      nearbyList.innerHTML = `
        <div style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--color-gray-50); border-radius: 8px;">
          <span style="font-size: 1.5rem;">üè•</span>
          <div>
            <div style="font-weight: 600; color: var(--color-gray-900); margin-bottom: 4px;" data-i18n="area_hospital">Hospital</div>
            <div style="color: var(--color-gray-600);">${nearby.hospital}</div>
          </div>
        </div>
        <div style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--color-gray-50); border-radius: 8px;">
          <span style="font-size: 1.5rem;">üõçÔ∏è</span>
          <div>
            <div style="font-weight: 600; color: var(--color-gray-900); margin-bottom: 4px;" data-i18n="area_mall">Shopping Mall</div>
            <div style="color: var(--color-gray-600);">${nearby.mall}</div>
          </div>
        </div>
        <div style="display: flex; align-items: start; gap: 12px; padding: 12px; background: var(--color-gray-50); border-radius: 8px;">
          <span style="font-size: 1.5rem;">‚úàÔ∏è</span>
          <div>
            <div style="font-weight: 600; color: var(--color-gray-900); margin-bottom: 4px;" data-i18n="area_airport">Airport</div>
            <div style="color: var(--color-gray-600);">${nearby.airport}</div>
          </div>
        </div>
      `;

      // Load properties for this area
      loadAreaProperties();

      initAreaDetailCharts(chartKeys, lang);
      
      // Re-apply translations
      updatePageText();
      
      // Initialize Lucide icons
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
    }

    // Load and display properties for this area
    function loadAreaProperties() {
      const lang = pageLang();
      const propertiesGrid = document.getElementById('properties-grid');
      
      // Use shared area name mapping from mock-data.js
      const areaNameMap = window.AMP?.areaNameMap || {
        'pattaya': 'Pattaya',
        'jomtien': 'Jomtien',
        'na-jomtien': 'Na Jomtien',
        'pratumnak': 'Pratumnak',
        'wong-amat': 'Wong Amat',
        'bang-saray': 'Bang Saray'
      };
      
      // Filter properties by area
      const propertyAreaName = areaNameMap[AREA_KEY];
      const areaProperties = ALL_PROPERTIES.filter(p => 
        p.area && p.area === propertyAreaName
      ).slice(0, 6); // Show max 6 properties
      
      if (areaProperties.length === 0) {
        propertiesGrid.innerHTML = `
          <div style="grid-column: 1 / -1; text-align: center; padding: 48px 24px; color: var(--color-gray-600);">
            <p data-i18n="area_no_properties">No properties available in this area at the moment.</p>
          </div>
        `;
        return;
      }

      propertiesGrid.innerHTML = areaProperties.map(property => {
        const title = lang === 'th' ? property.title_th : property.title_en;
        const price = property.price.toLocaleString();
        const priceUnit = property.intent === 'rent' ? '/mo' : '';
        
        return `
          <div class="card" style="overflow: hidden; transition: transform 0.3s ease, box-shadow 0.3s ease;">
            <div style="position: relative; height: 200px; overflow: hidden;">
              <img src="${property.image}" alt="${title}" loading="lazy" style="width: 100%; height: 100%; object-fit: cover;">
              ${property.badges && property.badges.length > 0 ? `
                <div style="position: absolute; top: 12px; left: 12px;">
                  <span style="background: var(--color-primary); color: white; padding: 4px 12px; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">
                    ${property.badges[0]}
                  </span>
                </div>
              ` : ''}
            </div>
            <div style="padding: 20px;">
              <h3 style="margin: 0 0 12px 0; font-size: 1.1rem; color: var(--color-gray-900); line-height: 1.4;">
                ${title}
              </h3>
              <div style="font-size: 1.5rem; font-weight: 700; color: var(--color-primary); margin-bottom: 16px;">
                ‡∏ø${price}${priceUnit}
              </div>
              <div style="display: flex; gap: 16px; margin-bottom: 16px; color: var(--color-gray-600); font-size: 0.9rem;">
                ${property.beds !== null ? `<span><i data-lucide="bed" style="width: 16px; height: 16px; display: inline-block; vertical-align: middle;"></i> ${property.beds}</span>` : ''}
                ${property.baths !== null ? `<span><i data-lucide="bath" style="width: 16px; height: 16px; display: inline-block; vertical-align: middle;"></i> ${property.baths}</span>` : ''}
                ${property.sqm ? `<span><i data-lucide="maximize" style="width: 16px; height: 16px; display: inline-block; vertical-align: middle;"></i> ${property.sqm} m¬≤</span>` : ''}
              </div>
              <a href="../../detail.html?id=${property.id}" class="btn btn-outline" style="width: 100%; text-align: center; display: block; text-decoration: none;">
                <span data-i18n="prop_view_detail">View Details</span>
              </a>
            </div>
          </div>
        `;
      }).join('');
      
      // Re-initialize Lucide icons
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
    }

    let areaDetailPriceChart;
    let areaDetailTrendChart;

    function initAreaDetailCharts(chartKeys, lang) {
      const priceCanvas = document.getElementById('area-detail-price-chart');
      const trendCanvas = document.getElementById('area-detail-trend-chart');
      if (!priceCanvas || !trendCanvas || typeof Chart === 'undefined') return;

      const areaData = chartKeys
        .map(key => ({ key, data: AREA_GUIDES[key] }))
        .filter(item => item.data)
        .map(item => ({
          key: item.key,
          name: item.data.name?.[lang] || item.data.name?.en || item.key,
          avgPrice: item.data.avg_price_sqm,
          trend: item.data.price_trend_yoy
        }));

      if (areaData.length === 0) return;

      const labels = areaData.map(item => item.name);
      const prices = areaData.map(item => item.avgPrice);
      const trends = areaData.map(item => item.trend);

      if (areaDetailPriceChart) areaDetailPriceChart.destroy();
      if (areaDetailTrendChart) areaDetailTrendChart.destroy();

      areaDetailPriceChart = new Chart(priceCanvas, {
        type: 'bar',
        data: {
          labels,
          datasets: [{
            label: t('area_chart_legend_price'),
            data: prices,
            backgroundColor: 'rgba(99, 102, 241, 0.6)',
            borderColor: 'rgba(99, 102, 241, 1)',
            borderWidth: 1,
            borderRadius: 6
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false },
            tooltip: {
              callbacks: {
                label: context => `‡∏ø${context.parsed.y.toLocaleString()}`
              }
            }
          },
          scales: {
            y: {
              ticks: {
                callback: value => `‡∏ø${Number(value).toLocaleString()}`
              }
            }
          }
        }
      });

      areaDetailTrendChart = new Chart(trendCanvas, {
        type: 'line',
        data: {
          labels,
          datasets: [{
            label: t('area_chart_legend_trend'),
            data: trends,
            borderColor: 'rgba(14, 116, 144, 1)',
            backgroundColor: 'rgba(14, 116, 144, 0.2)',
            pointBackgroundColor: 'rgba(14, 116, 144, 1)',
            pointRadius: 4,
            tension: 0.3,
            fill: true
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false },
            tooltip: {
              callbacks: {
                label: context => `${context.parsed.y}%`
              }
            }
          },
          scales: {
            y: {
              ticks: {
                callback: value => `${value}%`
              }
            }
          }
        }
      });

      const priceHigh = areaData.reduce((max, item) => item.avgPrice > max.avgPrice ? item : max, areaData[0]);
      const priceLow = areaData.reduce((min, item) => item.avgPrice < min.avgPrice ? item : min, areaData[0]);
      const trendHigh = areaData.reduce((max, item) => item.trend > max.trend ? item : max, areaData[0]);
      const trendLow = areaData.reduce((min, item) => item.trend < min.trend ? item : min, areaData[0]);

      const priceHighEl = document.getElementById('area-detail-price-high');
      const priceLowEl = document.getElementById('area-detail-price-low');
      const trendHighEl = document.getElementById('area-detail-trend-high');
      const trendLowEl = document.getElementById('area-detail-trend-low');
      if (priceHighEl) priceHighEl.textContent = `${t('area_chart_high_label')}: ${priceHigh.name} (‡∏ø${priceHigh.avgPrice.toLocaleString()})`;
      if (priceLowEl) priceLowEl.textContent = `${t('area_chart_low_label')}: ${priceLow.name} (‡∏ø${priceLow.avgPrice.toLocaleString()})`;
      if (trendHighEl) trendHighEl.textContent = `${t('area_chart_high_label')}: ${trendHigh.name} (${trendHigh.trend >= 0 ? '+' : ''}${trendHigh.trend}%)`;
      if (trendLowEl) trendLowEl.textContent = `${t('area_chart_low_label')}: ${trendLow.name} (${trendLow.trend >= 0 ? '+' : ''}${trendLow.trend}%)`;
    }

    // Initialize when DOM is loaded
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initAreaDetailPage);
    } else {
      initAreaDetailPage();
    }

    // Re-initialize when language changes
    document.addEventListener('languageChanged', function(e) {
      initAreaDetailPage();
    });
  </script>
</body>

</html>
